/mnt/Coordy リポジトリの Next.js(App Router) プロジェクトについて、
以下の点をまとめて修正してください。

会話は最小限で、わかる範囲は自動でどんどん進めてください。
画面テキスト・コメント・レポートはすべて日本語でお願いします。

# 今回のゴール（必ず守ってほしいこと）

1. **トップページ（/）**
   - 初回アクセス時から「ログイン」ボタンが普通にクリックできる状態にすること  
     （いまは最初だけ押せない）
2. **文言ポリシーの修正**
   - 「学びたい方（受講者）」という表現は **使わない**  
   - 「インストラクター（サービス提供者）」という表現も **使わない**
   - 日本語 UI では：
     - 学ぶ側 → **「ユーザー」**（または「ユーザー（サービス利用者）」程度）
     - 教える側 → **「サービス出品者」** に **固定**  
       （「インストラクター」や「クリエイター」など他の呼称を混ぜない）
   - すでに導入してしまった「学びたい方（受講者）」「インストラクター（サービス提供者）」などの表現は UI / DOCS から撤去し、上記の表現にそろえること
   - ただし、コード上のロール名やキー（`user`, `instructor` など）は **変更しない**  
     （DB・ミドルウェア・権限判定には影響させない）

3. **パスワードリセット（/login/user/forgot）**
   - 実装失敗時代に作成したユーザー  
     例: `skmtwork0+Test0014@gmail.com`
   - このユーザーで「パスワードお忘れですか？」を実行すると  
     `/login/user/forgot` で  
     `Cannot reset password for the user as there is no registered/verified email or phone_number`  
     というエラーが出る
   - この Cognito エラーを **フロント側で分かりやすくハンドリング** してほしい
     - 例）「このアカウントはメール認証が完了していない可能性があります。お手数ですが、新しくユーザー登録をやり直してください。」のようなメッセージに変換
     - スタックトレースや英語の生エラーはユーザーに見せない

4. **インストラクター（＝サービス出品者）関連の挙動**
   - `/`（トップ）で「サービス出品者の新規登録」に相当するボタンを押したときに **/signup/instructor に飛ぶ** こと
     - 現状：インストラクター新規登録 → `/user` に飛んでしまう（ユーザーと混ざっている）
   - `/signup/instructor` → 正しく「サービス出品者」用サインアップ画面が出ること
   - `/login/instructor` からログインしたあと、**ユーザーとは別のパス**（例：`/instructor`）に遷移すること  
     - `/user` に飛ばさない  
     - 「ユーザー」と「サービス出品者」はログイン後の行き先をきちんと分ける

5. **DOCS の扱い**
   - 既に DOCS はかなり整理済みなので、**今回の作業では DOCS の大規模整理やファイル削除はしない**  
   - 必要があれば、`AUTH.md`, `site-map.md`, `flows/login-flow.md` などの「用語」だけ最小限修正
   - API 一覧や構造などには手を入れない

---

## Step 0: 現状確認（コード検索）

まずは現在の文言とフローの把握から始めてください。

1. 文言の検索

   ```bash
   cd /mnt/Coordy

   rg "学びたい方" .
   rg "受講者" .
   rg "インストラクター（サービス提供者）" .
   rg "サービス提供者" .
   rg "サービス出品者" .
UI コンポーネント（components/sections/*, app/page.tsx, app/login/*, app/signup/* など）

DOCS（DOCS/*.md, DOCS/flows/*.md, DOCS/AUTH.md, DOCS/site-map.md）

を対象に、どこにどの表現が残っているかを把握してください。

トップページまわり

app/page.tsx

components/sections/HeroSection.tsx

components/sections/CTASection.tsx

components/layout/* （ヘッダーでログインボタンを出しているなら）

を読み、「ログイン」ボタンと「サービス出品者の新規登録」ボタンがどのように実装されているか確認してください。

認証フロー関連 DOCS

DOCS/AUTH.md

DOCS/site-map.md

DOCS/flows/login-flow.md

を読み、用語（ユーザー / インストラクター / サービス出品者）がどう使われているか確認してください。

Step 1: トップページ（/）のログインボタンが押せない問題
現象：
http://localhost:3000/ 初回アクセス時に、画面上の「ログイン」ボタンがクリックできない。

想定原因として、次のようなものを順に疑ってください。

オーバーレイやレイヤーの問題

HeroSection / CTASection などで、画面全面に重なっている div（例：absolute inset-0 や pointer-events-none ではないラッパー）が
ボタンの上にかぶさっていないか

z-index (z-10, z-20 など) の指定が原因で、透明な要素がボタンの上を塞いでいないか

ボタン側の disabled or pointer-events

<Button> が disabled={true} のままになっていないか

クライアント側の状態（例：isLoading, isCheckingSession）が初期レンダリング後に false にならないまま disabled を維持していないか

CSS に pointer-events: none がついていないか

Link/ボタン構造の問題

Next.js の <Link> と <Button> の組み合わせが不自然になっていないか

例：<Link href="/login/user"><Button asChild>…</Button></Link> のように正しいパターンになっているか

onClick を書き忘れている or 間違った場所に付けていないか

修正方針
ログインボタンは、トップからユーザー用ログインページ /login/user へ遷移する単純なボタンにしてください。

例（書き方の一例）:

tsx
コードをコピーする
import Link from "next/link";
import { Button } from "@/components/ui/button";

<Link href="/login/user">
  <Button size="lg">
    ログイン
  </Button>
</Link>
もしセッションチェックなどが必要なら、ログインページ側で行う ことを優先し、
トップページのボタンは極力シンプルにしてください。

透明なオーバーレイや、不要な pointer-events: none、不要な高い z-index のせいでクリックできない状態があれば削除 / 調整してください。

Step 2: 日本語表現の統一（UI & DOCS）
2-1. UI の文言
UI（React コンポーネント）では、次のルールに統一してください。

学ぶ側 → 「ユーザー」

必要なら「ユーザー（サービス利用者）」など、補足は OK

ただし、「学びたい方」「受講者」は今後使わない

教える側 → 「サービス出品者」

これで固定してください

「インストラクター」「クリエイター」「サービス提供者」「教えたい方」などは使わない

対象ファイルの例：

components/sections/HeroSection.tsx

components/sections/CTASection.tsx

app/signup/user/page.tsx

app/signup/instructor/page.tsx

app/login/user/page.tsx

app/login/instructor/page.tsx

そのほか「学びたい」「教えたい」「受講者」「インストラクター（サービス提供者）」などの文言が出てくるコンポーネント

2-2. DOCS の文言（最小限）
DOCS 側は最低限、次のファイルだけ用語を合わせてください（大規模な構造変更は禁止）。

DOCS/AUTH.md

DOCS/site-map.md

DOCS/flows/login-flow.md

方針：

ロールの説明文やフロー説明に出てくる日本語表現を：

学ぶ側 → 「ユーザー」

教える側 → 「サービス出品者」

ただし、ロールキー・英語ラベル（user, instructor, admin）は そのまま。

例）表のカラム名やシステム内部のロール名は instructor のままで OK

説明文だけ「サービス出品者（instructor ロール）」といった形にしてもよい

Step 3: ユーザーのパスワードリセットエラーの扱い
対象：/login/user/forgot などパスワードリセット画面。

現象：

メールアドレス skmtwork0+Test0014@gmail.com で「パスワードお忘れですか？」を実行すると、

Cannot reset password for the user as there is no registered/verified email or phone_number
という Cognito エラーが UI に出てしまう。

3-1. エラーハンドリングの改善
パスワードリセット処理を行っているコード（例：requestPasswordReset, forgotPassword など）を特定してください。

Cognito のエラーコードまたはメッセージで以下のケースを判定し、
ユーザー向けの日本語メッセージに変換 してください。

Cannot reset password for the user as there is no registered/verified email or phone_number

→ 表示メッセージ例：

「このアカウントはメール認証が完了していないか、連絡先情報が登録されていません。お手数ですが、新しくユーザー登録をやり直してください。」

そのほかのエラー（ネットワークエラー、内部エラーなど）は、
汎用メッセージに落とし込んでください。

例）「パスワードリセットに失敗しました。時間をおいて再度お試しください。」

英語の生エラー文やスタックトレースはユーザーには出さず、
console.error に留めるなど開発者向けログにしてください。

3-2. DOCS へのメモ（任意）
DOCS/AUTH.md か DOCS/TROUBLESHOOTING.md あたりに、
「メール未確認ユーザーに対するパスワードリセットの挙動」を簡単に追記しても構いませんが、必須ではありません。

Step 4: サービス出品者（instructor ロール）のフロー修正
4-1. トップページの「サービス出品者の新規登録」ボタン
トップページの Hero / CTA セクションで、
「サービス出品者の新規登録」に相当するボタンを出している箇所を確認してください。

以下を保証してください。

文言：
例）サービス出品者の新規登録はこちら

クリック時： 必ず /signup/instructor に遷移
→ /user や /signup/user に飛ばないこと

実装例：

tsx
コードをコピーする
<Link href="/signup/instructor">
  <Button size="lg">
    サービス出品者の新規登録はこちら
  </Button>
</Link>
4-2. /signup/instructor
app/signup/instructor/page.tsx を開き、次を確認・修正してください。

画面タイトルや説明文で「サービス出品者」という表現を使っていること

ここは「サービス出品者」用の新規登録フォームであり、
ユーザー用とは別であることが UI 上も明確であること

サインアップ成功後の流れは DOCS/flows/login-flow.md の instructor ロールに合わせること

例：/verify?email=... → /login/instructor → /instructor

ユーザー用と混ざって /user に飛んでしまうようなコード（router.push("/user") など）があれば、
instructor 用の遷移先に修正してください。

4-3. /login/instructor
app/login/instructor/page.tsx を確認し、次を保証してください。

"use client";

<form onSubmit={handleSubmit}> + Button type="submit"

正しいメール＋パスワードでログイン成功 → /instructor など instructor 用トップへ

ユーザー用の /user には飛ばさない

すでにログイン済みのサービス出品者が /login/instructor に来た場合は、
/instructor にリダイレクトするようにしてください。

エラーメッセージはユーザー側と同じトーンで、
日本語でわかりやすく表示してください（英語生文は出さない）。

Step 5: 仕上げと作業レポート
npm run build を実行し、ビルドが通ることを確認してください。

npm run dev で立ち上げ、少なくとも次を自己テストしてください（ブラウザでの軽い確認でOKです）。

/

初回アクセス時から「ログイン」ボタンがクリックできること

サービス出品者向けボタンが /signup/instructor に遷移すること

文言に「学びたい方（受講者）」や「インストラクター（サービス提供者）」が残っていないこと

/login/user/forgot

問題のユーザー（例：skmtwork0+Test0014@gmail.com）で実行したとき、
生の英語エラーではなく、日本語の説明メッセージが表示されること

/login/instructor → /instructor

ログインフローがユーザーとは別で動いていること

最後に「作業完了レポート」を Markdown でコンソールに出力してください。

レポートには少なくとも次を含めてください：

変更したファイル一覧（パス・概要）

トップページのログインボタン問題の原因と修正内容

日本語表現の統一ルール（ユーザー / サービス出品者）と、その適用ファイル

パスワードリセットエラー Cannot reset password for the user as there is no registered/verified email or phone_number の扱い

サービス出品者（instructor ロール）のログイン・サインアップフローの概要

既知の制約（Cognito 側でしか直せないものがある場合は、その旨を明記）

※ DOCS の構造（ファイル削除・大規模統合）は、今回のタスクでは変更しないでください。
　必要な場合でも、用語の置き換えなど最小限に留めてください。

yaml
コードをコピーする

---

もしこのプロンプト投げたあとで、

- トップのログインまだ押せない  
- サービス出品者の遷移がおかしい  
- エラーメッセージの日本語が微妙  

みたいなところが残っていたら、その画面のスクショか該当 TSX を貼ってくれれば、コードレベルで一緒に詰めていこう。